follow_user = ->
  $(document).on 'click', '.follow_user', (e) ->
    $(this).prev('form').submit()
    e.preventDefault()

unfollow_user = ->
  $(document).on 'click', '.unfollow_user', (e) ->
    $(this).prev('form').submit()
    e.preventDefault()

$(document).ready(unfollow_user)
$(document).on('page:load', unfollow_user)

$(document).ready(follow_user)
$(document).on('page:load', follow_user)

unfollow_user_hover = ->
  $(document).on
    mouseenter: ->
      $(this).html('Unfollow')
    mouseleave: ->
      $(this).html('Following')
  , ".unfollow_user"

$(document).ready(unfollow_user_hover)
$(document).on('page:load', unfollow_user_hover)

click_on_feedback_call = ->
  $(document).on 'click', '#user_feedback_call', (e) ->
    $('.sign_up_phone_number').toggle()

$(document).ready(click_on_feedback_call)
$(document).on('page:load', click_on_feedback_call)

<% if Rails.env.production? %>
click_on_user_challenge = ->
  $('.activation2_challenge_users').click ->
    _kmq.push ['trackClick', '.activation2_challenge_users', 'Activation2 - (Challenge Users)', {id: $(this).data('user-id')}]

$(document).ready(click_on_user_challenge)
<% end %>